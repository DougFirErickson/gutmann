function classit, ndvi, classimage, maskFile, num_classes=num_classes		if not keyword_set(num_classes) then num_classes=15		envi_open_file, ndvi, r_fid=ndvifid	envi_open_file, maskFile, r_fid=m_fid	envi_file_query, ndvifid, ns=ns, nl=nl, nb=nb, h_map=maph		envi_check_save, /classification		class_doit, fid=ndvifid, method=4, r_fid=classfid, out_name=classimage, $		pos=long(indgen(nb)), iterations=3, min_classes=5,num_classes=num_classes, $		dims=[-1,0,ns-1,0,nl-1], iso_merge_pairs=2, iso_merge_dist=3.0,$		iso_min_pixels=10, change_thresh=0.5, iso_split_std=10., m_fid=m_fid, $		m_pos=0l;, /In_Memory		;	classdata=envi_get_data(fid=classfid, pos=0l, dims=[-1,0,ns-1,0,nl-1]);	openw, oun, /compress, /get, classimage;	writeu, oun, classdata;	close, oun;	free_lun, oun			;	print, ' ';	print, 'XXXXXXXXXXXX  NUMBER OF CLASSES=',num_classes, '    XXXXXXXXXXXXXX';	print, ' '	print, 'Done classifying, closing mask file...'	envi_file_mng, id=m_fid, /remove		print, 'Done Closing mask file, closing NDVI file...'	envi_file_mng, id=ndvifid, /remove	print, 'Done closing mask file, opening class file...'	envi_open_file, classimage, r_fid=c_fid	print, 'Done opening class image, finding the number of classes...'	envi_file_query, c_fid, num_classes=nclasses	print, 'Done finding the number of classes, closing class file...'	envi_file_mng, id=c_fid, /remove	print, 'Done Closing class file, returning...'		return, nclassesend