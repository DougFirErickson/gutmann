pro scaleToPage	list=findfile('*.png')	list2=findfile('*.PNG')	if list(0) eq '' and list2(0) eq '' then return		if list(0) eq '' then list=list2	if list2(0) ne '' and list(0) ne '' then list=[list,list2]		maxX=2340.0	maxY=2940.0	properXYratio = maxX/maxY		for i=0, n_elements(list)-1 do begin				basename=strsplit(list(i),'.png', /extract)		basename=basename(0)				img = read_png(list(i))		sz=size(img)		curRatio = sz(2)/float(sz(3))				if curRatio gt properXYratio then begin			newX = maxX			newY = fix(maxX / curRatio)		endif else if curRatio lt properXYratio then begin			newX = fix(maxY * curRatio)			newY = maxY		endif else begin			newX = maxX			newY = maxY		endelse				R=transpose(img(0,*,*),[1,2])		G=transpose(img(1,*,*),[1,2])		B=transpose(img(2,*,*),[1,2])				newR = congrid(R, newx, newY)		newG = congrid(G, newx, newY)		newB = congrid(B, newx, newY)				OutputImg = transpose([[[newR]],[[newG]], [[newB]]], [2,0,1])		write_png, basename+'300dpi.png', Outputimg, /verbose		;		write_tiff, basename+'.tif', $;OutputImg, 1, $;			Red=newR, Green=newG, Blue=newB, planarconfig=2			endfor	end				